<!DOCTYPE html>
<html lang="en" dir="ltr">

  <head>
    <meta charset="utf-8">
    <title>Turner Fenton DECA</title>
    <meta charset="utf-8">
    <link rel="icon" href="decaLogo.png">
    <link rel="stylesheet" href="./css/landingpageStyles.css">
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous">
    <script src="script.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Cabin:wght@600&family=DM+Serif+Text&family=Gothic+A1:wght@200;300;400;500;600;700;800;900&family=IBM+Plex+Sans:wght@100;200;300;400;600&family=Lato:wght@300;400;700&family=Montserrat:wght@200;300;400;500;600;800&family=Playfair+Display:wght@400;500;600;700;800;900&display=swap"
      rel="stylesheet">

  </head>

  <body>
    <!-- ---------------------------------- SIDEBAR STARTS ----------------------------------->
    <section>
      <div
        class="d-flex flex-column flex-shrink-0 p-3 text-white bg-dark sidebarDECA"
        style="width: 280px;">
        <a href="/"
          class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
          <svg class="bi me-2" width="40" height="32">
            <use xlink:href="#bootstrap"></use>
          </svg>
          <span class="fs-4">Turner Fenton DECA</span>
        </a>
        <hr>
        <ul class="nav nav-pills flex-column mb-auto">
          <li class="nav-item">
            <a href="/landing-page" class="nav-link active" aria-current="page">
              <svg class="bi me-2" width="16" height="16">
                <use xlink:href="#home"></use>
              </svg>
              Home
            </a>
          </li>
          <li>
            <a href="/choice" class="nav-link text-white">
              <svg class="bi me-2" width="16" height="16">
                <use xlink:href="#speedometer2"></use>
              </svg>
              Questions
            </a>
          </li>
          <li>
            <a href="/userInformation" class="nav-link text-white">
              <svg class="bi me-2" width="16" height="16">
                <use xlink:href="#speedometer2"></use>
              </svg>
              User Information
            </a>
          </li>

        </ul>
        <hr>
        <div class="dropdown">
          <a href="#"
            class="d-flex align-items-center text-white text-decoration-none dropdown-toggle"
            id="dropdownUser1"
            data-bs-toggle="dropdown" aria-expanded="false">
            <img
              src="https://static.vecteezy.com/system/resources/thumbnails/009/734/564/small/default-avatar-profile-icon-of-social-media-user-vector.jpg"
              alt width="32" height="32" class="rounded-circle me-2">
            <strong>
              <%=username%>
            </strong>
          </a>
          <ul class="dropdown-menu dropdown-menu-dark text-small shadow"
            aria-labelledby="dropdownUser1">
            <!-- wrap button in link to logout with no styles -->
            <li class="signoutList">
              <a id="logout" href="/logout"><button type="submit"
                  class="btn btn-primary submitButton">Sign Out</button></a>
            </li>

          </ul>
        </div>
      </div>
    </section>
    <!------------------------------------ SIDEBAR ENDS --------------------------------- -->

    <!------------------------------------ TITLEBAR STARTS ----------------------------------->
    <section class="encapsule">
      <div class="landingSection1">
        <div class="title1">
          <h1 class="landingPageTitle"> TURNER FENTON DECA</h1>
        </div>
        <div class="sectionOneImg">
          <img class="execImg" id="execTeamImg" src="/execfakeimg.png">
        </div>
      </div>

      <!------------------------------------ TITLEBAR ENDS ----------------------------------->

      <!------------------------------------ Announcement STARTS ----------------------------------->
      <section>
        <div class="announcementDiv">
          <div class="arrow-div"></div>
          <p class="annoucementTitle">Important Dates</p>
          <div class="dates">
            <h1 class="dateHeading1">TFSS DECA Dates</h1>
            <p class="dateDes"><b>First Class:</b> <i>October 10, 2023</i></p>
            <!-- <p class="dateDes"> <b> Signups Open:</b> <a href=https://forms.gle/YvCKWKztFWiu7N7FA>  Register here!</a></p> -->
            <hr class="hr">
            <h1 class="dateHeading1">Ontario DECA Dates</h1>
            <p class="dateDes"><b>Regionals (Exam):</b> <i>October 30/31, 2023</i></p>
            <p class="dateDes"><b>Regionals (Case Study):</b> <i>November 25, 2023</i></p>

          </div>
        </div>
      </section>
      <!------------------------------------ Announcement ENDS ----------------------------------->

      <!------------------------------------ MAIN CONTENT STARTS ----------------------------------->
      <section class="mainContentContainer">
        <div class="incorrectQuestionGenerator">

          <% if (questionRandom === "no question") { %>
          <div class="noQuestionCard">
            <h1 class="IQGtitle">You have not answered any questions, please
              take a test to see wrong questions</h1>
            <a class="incButton2" id="morePracticeButton" href="/choice"><button
                class="btn btn-primary" type="button submit"> More Practice</button></a>
          </div>
          <% } else { %>

          <h1 class="IQGtitle">Incorrect Question:</h1>

          <div class="incorrectQuestionCard">
            <h6> <%=questionRandom.Question %></h6>
            <p class="correctAnswer" style="display: none;"><%=questionRandom.Answer
              %></p>
            <label class="inline-label">
              <input class="radioButton" type="radio"
                style="margin-bottom: 13px; margin-right: 5px;" name=<%=questionRandom%>
              value="A" required>
              <p
                class="<% if (questionRandom.Answer === 'A') { %>correctAnswerP<% } %>">
                A.<%=questionRandom.OptionOne %>
              </p>
            </label>
            <br>
            <label class="inline-label">
              <input class="radioButton" type="radio"
                style="margin-bottom: 13px; margin-right: 5px;" name=<%=questionRandom%>
              value="B" required>
              <p
                class="<% if (questionRandom.Answer === 'B') { %>correctAnswerP<% } %>">
                B.<%=questionRandom.OptionTwo %>
              </p>
            </label>
            <br>
            <label class="inline-label">
              <input class="radioButton" type="radio"
                style="margin-bottom: 13px; margin-right: 5px;" name=<%=questionRandom%>
              value="C" required>
              <p
                class="<% if (questionRandom.Answer === 'C') { %>correctAnswerP<% } %>">
                C.<%=questionRandom.OptionThree %>
              </p>
            </label>
            <br>
            <label class="inline-label">
              <input class="radioButton" type="radio"
                style="margin-bottom: 13px; margin-right: 5px;" name=<%=questionRandom%>
              value="D" required>
              <p
                class="<% if (questionRandom.Answer === 'D') { %>correctAnswerP<% } %>">
                D. <%=questionRandom.OptionFour %>
              </p>
            </label>

          </div>
          <button id="submitButton" type="button"
            class="incButton btn btn-primary">Submit</button>
          <a class="incButton2" id="morePracticeButton"
            style="display: none; text-decoration: none; color: inherit;"
            href="/choice"><button class="btn btn-primary" type="button submit">
              More Practice</button></a>

          <% } %>
          <script>
        $(document).ready(function() {
          $('#submitButton').click(function() {
            $(this).prop('disabled', true);
            $('#morePracticeButton').show();
            $('.correctAnswerP').toggleClass('correct-answer')
            const radioButtons = $('.radioButton');
            for (var i = 0; i < 4; i++) {
              if (!radioButtons[i].checked) {
                $(radioButtons[i]).prop('disabled', true);
              }
            }
         });
        });
      </script>

        </div>

        <!------------------------- GRAPH STARTS --------------------------->
        <div class="pieGraph">
          <div class="container2">
            <h1 class="statisticsTitle">Statistics</h1>
            <form>
              <input class="Correct" type="hidden" value="<%=questionsCorrect%>">
              <input class="Incorrect" type="hidden"
                value="<%=questionsIncorrect%>">
            </form>
            <canvas id="doughnutChart"></canvas>
          </div>
        </div>
      </section>
      <!------------------------- GRAPH ENDS --------------------------->

      <!------------------------------------ Question Counter STARTS ----------------------------------->

      <!------------------------------------ Question Counter ENDS ----------------------------------->

      <!------------------------------------ MAIN CONTENT ENDS ----------------------------------->
      <script>
      var correctInput = document.querySelector('.Correct');
      var incorrectInput = document.querySelector('.Incorrect');
      var correct = correctInput.value;
      var incorrect = incorrectInput.value;

      const data = {
        labels: ['Correct', 'Incorrect'],
        datasets: [{
          data: [correct, incorrect],
          backgroundColor: ['#36a2eb', '#ff6384'],
          hoverBackgroundColor: ['#36a2eb', '#ff6384']
        }]
      };

      const canvas = document.getElementById('doughnutChart');
      const ctx = canvas.getContext('2d');
      new Chart(ctx, {
        type: 'doughnut',
        data: data,
        options: {
          cutoutPercentage: 60,
          responsive: true,
          maintainAspectRatio: true
        }
      });
    </script>

    </body>

  </html>
