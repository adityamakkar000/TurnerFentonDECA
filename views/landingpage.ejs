<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Turner Fenton DECA</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="./css/styles.css">
  <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cabin:wght@700&family=Ysabeau+Infant:wght@500&display=swap"
    rel="stylesheet">

</head>

<body>
  <!-- ---------------------------------- SIDEBAR STARTS ----------------------------------->
  <section>
    <div class="d-flex flex-column flex-shrink-0 p-3 text-white bg-dark sidebarDECA" style="width: 280px;">
      <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
        <svg class="bi me-2" width="40" height="32">
          <use xlink:href="#bootstrap"></use>
        </svg>
        <span class="fs-4">Sidebar</span>
      </a>
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
      <hr>
      <ul class="nav nav-pills flex-column mb-auto">
        <li class="nav-item">
          <a href="/landing-page" class="nav-link active" aria-current="page">
            <svg class="bi me-2" width="16" height="16">
              <use xlink:href="#home"></use>
            </svg>
            Home
          </a>
        </li>
        <li>
          <a href="/questions" class="nav-link text-white">
            <svg class="bi me-2" width="16" height="16">
              <use xlink:href="#speedometer2"></use>
            </svg>
            Questions
          </a>
        </li>
      </ul>
      <hr>
      <div class="dropdown">
        <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" id="dropdownUser1"
          data-bs-toggle="dropdown" aria-expanded="false">
          <img
            src="https://static.vecteezy.com/system/resources/thumbnails/009/734/564/small/default-avatar-profile-icon-of-social-media-user-vector.jpg"
            alt width="32" height="32" class="rounded-circle me-2">
          <strong>
            <%=username%>
          </strong>
        </a>
        <ul class="dropdown-menu dropdown-menu-dark text-small shadow" aria-labelledby="dropdownUser1">
          <!-- Other dropdown items -->
          <form method="post" action="/logout">
            <button type="submit" class="button-link">Sign Out</button>
          </form>
        </ul>
      </div>
    </div>
  </section>
  <!------------------------------------ SIDEBAR ENDS --------------------------------- -->

  <!------------------------------------ TITLEBAR STARTS ----------------------------------->
  <h1 class="landingPageTitle"> TURNER FENTON DECA</h1>
  <!------------------------------------ TITLEBAR ENDS ----------------------------------->

  <!------------------------------------ Announcement STARTS ----------------------------------->
  <section>
    <div class="announcementDiv">
      <h1 class="annoucementTitle">Annoucements</h1>
    </div>
  </section>
  <!------------------------------------ Announcement ENDS ----------------------------------->

    <!------------------------------------ MAIN CONTENT STARTS ----------------------------------->
  <section class="mainContentContainer">
    <div class="incorrectQuestionGenerator">
      <h1>Incorrect Question</h1>
    </div>

     <!------------------------- GRAPH STARTS ---------------------------> 
    <div class="pieGraph">
      <div class="container2">
        <h1 class="statisticsTitle">Statistics</h1>
        <form>
          <input class="Correct" type="hidden" value="<%=questionsCorrect%>">
          <input class="Incorrect" type="hidden" value="<%=questionsIncorrect%>">
        </form>
        <canvas id="doughnutChart"></canvas>
      </div>
        <script>
          var correctInput = document.querySelector('.Correct');
          var incorrectInput = document.querySelector('.Incorrect');
          var correct = correctInput.value;
          var incorrect = incorrectInput.value;

          const data = {
            labels: ['Correct', 'Incorrect'],
            datasets: [{
              data: [correct, incorrect],
              backgroundColor: ['#36a2eb', '#ff6384'],
              hoverBackgroundColor: ['#36a2eb', '#ff6384']
            }]
          };

          const canvas = document.getElementById('doughnutChart');
          const ctx = canvas.getContext('2d');
          new Chart(ctx, {
            type: 'doughnut',
            data: data,
            options: {
              cutoutPercentage: 60,
              responsive: true,
              maintainAspectRatio: true
            }
          });
        </script>
    </div>
    <!------------------------- GRAPH ENDS ---------------------------> 
    
    <!------------------------------------ Question Counter STARTS ----------------------------------->
  </section>
    <div class="questionCounter">
        <h6 class="headingForQuestionCounter">Number of Questions Answered: </h6>

        <form>
          <input class="totalQ" type="hidden" value="<%=totalQuestions%>">
        </form>

        <script>
          var totalQuestionValue = document.querySelector('.totalQ');
          var total = totalQuestionValue.value;
          var headingElement = document.querySelector('.headingForQuestionCounter');
          headingElement.innerHTML += ' ' + total;
        </script> 
   </div>   
  <!------------------------------------ Question Counter ENDS ----------------------------------->

    <!------------------------------------ MAIN CONTENT ENDS ----------------------------------->



</body>

</html>