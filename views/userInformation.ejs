<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Turner Fenton DECA</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="./css/styles.css">
  <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="path/to/chartjs/dist/chart.umd.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cabin:wght@700&family=Ysabeau+Infant:wght@500&display=swap"
    rel="stylesheet">

</head>


<body>
  <!-- ________________________________________________ SIDEBAR STARTS ____________________________________________________ */ -->
  <section>
    <div class="d-flex flex-column flex-shrink-0 p-3 text-white bg-dark sidebarDECA" style="width: 280px;">
      <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
        <svg class="bi me-2" width="40" height="32">
          <use xlink:href="#bootstrap"></use>
        </svg>
        <span class="fs-4">Sidebar</span>
      </a>
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
      <hr>
      <ul class="nav nav-pills flex-column mb-auto">
        <li>
          <a href="/landing-page" class="nav-link text-white">
            <svg class="bi me-2" width="16" height="16">
              <use xlink:href="#speedometer2"></use>
            </svg>
            Home
          </a>
        </li>
        <li>
          <a href="/choice" class="nav-link text-white">
            <svg class="bi me-2" width="16" height="16">
              <use xlink:href="#speedometer2"></use>
            </svg>
            Questions
          </a>
        </li>
        <li class="nav-item">
          <a href="/userInformation" class="nav-link active" aria-current="page">
            <svg class="bi me-2" width="16" height="16">
              <use xlink:href="#home"></use>
            </svg>
            User Information
          </a>
        </li>
      </ul>
      <hr>
      <div class="dropdown">
        <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" id="dropdownUser1"
          data-bs-toggle="dropdown" aria-expanded="false">
          <img
            src="https://static.vecteezy.com/system/resources/thumbnails/009/734/564/small/default-avatar-profile-icon-of-social-media-user-vector.jpg"
            alt width="32" height="32" class="rounded-circle me-2">
          <strong>
            <%=username%>
          </strong>
        </a>
        <ul class="dropdown-menu dropdown-menu-dark text-small shadow" aria-labelledby="dropdownUser1">
          <!-- Other dropdown items -->
          <form method="post" action="/logout">
            <button type="submit" class="button-link signOut">Sign Out</button>
          </form>
        </ul>
      </div>
    </div>
  </section>
  /*
  <!-- ________________________________________________ SIDEBAR ENDS ____________________________________________________ -->
  */


  /*
  <!-- ________________________________________________ NAME CHANGE STARTS ____________________________________________________ -->
  */
  <div class="nameChange">
    <h2 class="nameChangeTitle">Name:</h2>
    <form class="userNameChange" method="post" action="/userInformation">
      <label for="newName">New Name:</label>
      <input type="text" id="newName" name="newName">
      <br>
      <button type="submit">Change Name</button>
    </form>
  </div>

  <!-- /* <!________________________________________ Question Stats STARTS __________________________________________-> */ -->
  <div class="numOfRight">
    <h2 class="headingForRightQuestionCounter">Number of Correct Questions:</h2>
    <form>
      <input class="totalRightQ" type="hidden" value="<%=questionsCorrect%>">
    </form>

    <script>
      var totalRightValue = document.querySelector('.totalRightQ');
      var total = totalRightValue.value;
      var headingElement = document.querySelector('.headingForRightQuestionCounter');
      headingElement.innerHTML += ' ' + total;
    </script>
  </div>

  <div class="numOfWrong">
    <h2 class="headingForWrongQuestionCounter">Number of Incorrect Questions:</h2>
    <form>
      <input class="totalWrongQ" type="hidden" value="<%=questionsWrong%>">
    </form>

    <script>
      var totalWrongValue = document.querySelector('.totalWrongQ');
      var total = totalWrongValue.value;
      var headingElement = document.querySelector('.headingForWrongQuestionCounter');
      headingElement.innerHTML += ' ' + total;
    </script>
  </div>

  <div class="numOfTotalQ">
    <h2 class="headingForTotalQuestionCounter">Total Answered: </h2>
    <form>
      <input class="totalQ" type="hidden" value="<%=totalQuestions%>">
    </form>

    <script>
      var totalQuestionValue = document.querySelector('.totalQ');
      var total = totalQuestionValue.value;
      var headingElement = document.querySelector('.headingForTotalQuestionCounter');
      headingElement.innerHTML += ' ' + total;
    </script>
  </div>
  <!-- /* <!________________________________________ Question Stats ENDS __________________________________________-> */ -->

  <!-- /* <!________________________________________ LINE GRAPH STARTS __________________________________________-> */ -->
  <div class="lineGraph">
    <div id="graph-container">
      <h1>Line Graph Title</h1>
      <canvas id="lineGraph"></canvas>
    </div>

    <script>
            // Retrieve the data passed to the template
      const data = <%- JSON.stringify(latestResults) %>;

      // Create a new Chart.js line chart
      const ctx = document.getElementById('lineGraph').getContext('2d');
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: Array.from({ length: data.length }, (_, i) => i + 1), // Generate labels
          datasets: [
            {
              label: 'Line Graph',
              data: data,
              fill: false,
              borderColor: 'rgb(75, 192, 192)',
              tension: 0.1
            }
          ]
        },
        options: {
                scales: {
                    x: {
                        display: true,
                        title: {
                            display: true,
                            text: 'Test Number',
                            color: 'black',
                            font: {
                                size: 14,
                                weight: 'bold'
                            }
                        }
                    },
                    y: {
                        display: true,
                        title: {
                            display: true,
                            text: 'Percentage of Correct Questions',
                            color: 'black',
                            font: {
                                size: 14,
                                weight: 'bold'
                            }
                        }
                    }
                }
            }
        });
    </script>


    </script>

  </div>



</body>

</html>